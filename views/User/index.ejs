<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Users</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-black text-white min-h-screen flex justify-center items-center"
  >
    <div class="w-full max-w-6xl p-6 bg-black rounded shadow-lg">
      <a
        href="/adminDashbord"
        class="px-4 py-2 text-red-500 font-bold rounded hover:text-red-700"
        >back to page</a
      >

      <h1 class="text-3xl font-bold mb-6 text-center">All Students</h1>

      <div class="overflow-x-auto">
        <table class="table-auto w-full text-left text-sm">
          <thead>
            <tr class="bg-gray-900 text-gray-400">
              <th class="px-4 py-2">#</th>
              <th class="px-4 py-2">Name</th>
              <th class="px-4 py-2">Email</th>
              <th class="px-4 py-2">Role</th>
              <th class="px-4 py-2">Grade</th>
              <th class="px-4 py-2">Profile Picture</th>
              <th class="px-4 py-2">Actions</th>
            </tr>
          </thead>
          <tbody>
            <% if (Array.isArray(users) && users.length > 0) { %> <%
            users.forEach((user, index) => { %>
            <tr
              class="<%= index % 2 === 0 ? 'bg-gray-700' : 'bg-gray-600' %> text-gray-200"
            >
              <td class="px-4 py-2"><%= index + 1 %></td>
              <td class="px-4 py-2"><%= user.name %></td>
              <td class="px-4 py-2"><%= user.email %></td>
              <td class="px-4 py-2"><%= user.role %></td>
              <td class="px-4 py-2"><%= user.grade %></td>
              <td class="px-4 py-2">
                <% if (user.profilePicture) { %>
                <img
                  src="<%= user.profilePicture %>"
                  alt="Profile"
                  class="w-12 h-12 rounded-full object-cover"
                />
                <% } else { %>
                <span>N/A</span>
                <% } %>
              </td>
              <td class="px-4 py-2">
                <form action="/edit/<%= user.id %>">
                  <button
                    class="px-4 py-2 bg-gray-700 text-white rounded shadow hover:bg-gray-600 hover:shadow-lg transition duration-300"
                  >
                    Edit
                  </button>
                </form>
              </td>
            </tr>
            <% }); %> <% } else { %>
            <tr>
              <td colspan="7" class="px-4 py-2 text-center text-gray-400">
                No Students Found
              </td>
            </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
